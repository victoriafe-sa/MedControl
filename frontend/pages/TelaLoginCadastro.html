<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro/Login - MedControl</title>
    <link rel="stylesheet" href="../styles/TelaLoginCadastro.css">
</head>
<body>

    <a href="Home.html" class="logo-container">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icone-logo">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 10.5h.375c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125H21M3.75 10.5H3.375c-.621 0-1.125.504-1.125 1.125v2.25c0 .621.504 1.125 1.125 1.125H3.75m14.25 0V21a2.25 2.25 0 01-2.25 2.25H8.25A2.25 2.25 0 016 21V15m12 0V3.375c0-.621-.504-1.125-1.125-1.125H9.375c-.621 0-1.125.504-1.125 1.125V15m12 0h-9" />
        </svg>
        <span class="texto-logo">MedControl</span>
    </a>

    <div class="container" id="container">
        <!-- Formulário de Cadastro -->
        <div class="form-container container-cadastro">
            <form id="formularioCadastro" novalidate>
                <h1>Criar Conta</h1>
                <span>Use seu e-mail para se cadastrar</span>
                <input id="cadastroNome" type="text" placeholder="Nome completo" required />
                <p id="erroCadastroNome" class="error-message"></p>
                <input id="cadastroEmail" type="email" placeholder="E-mail" required />
                <p id="erroCadastroEmail" class="error-message"></p>
                <input id="cadastroCpfCns" type="text" placeholder="CPF ou CNS" required />
                <p id="erroCadastroCpfCns" class="error-message"></p>
                <input id="cadastroCep" type="text" placeholder="CEP" required />
                <p id="erroCadastroCep" class="error-message"></p>
                <input id="cadastroNascimento" type="date" title="Data de nascimento" />
                <p id="erroCadastroNascimento" class="error-message"></p>
                <input id="cadastroSenha" type="password" placeholder="Senha" required />
                <p id="erroCadastroSenha" class="error-message"></p>
                <button type="submit">Cadastrar</button>
            </form>
        </div>

        <!-- Formulário de Login -->
        <div class="form-container container-login">
            <form id="formularioLogin">
                <h1>Entrar</h1>
                <span>Use sua conta</span>
                <input id="loginEmailCpf" type="text" placeholder="E-mail ou CPF/CNS" required />
                <input id="loginSenha" type="password" placeholder="Senha" required />
                <a href="#" id="linkEsqueceuSenha">Esqueceu sua senha?</a>
                <button type="submit">Entrar</button>
                <div id="mensagemLogin" class="mensagem" style="display: none;"></div>
            </form>
        </div>

        <!-- Painel Sobreposto -->
        <div class="container-sobreposicao">
            <div class="sobreposicao">
                <div class="painel-sobreposicao painel-esquerdo">
                    <h1>Bem-vindo de volta!</h1>
                    <p>Para se manter conectado, entre com suas informações de login</p>
                    <button class="fantasma" id="btnEntrar">Entrar</button>
                </div>
                <div class="painel-sobreposicao painel-direito">
                    <h1>Olá!</h1>
                    <p>Insira seus dados pessoais e comece sua jornada conosco</p>
                    <button class="fantasma" id="btnCadastrar">Cadastrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Recuperação de Senha -->
    <div id="modalEsqueceuSenha" class="modal">
        <div class="conteudo-modal">
            <!-- Passo 1: Verificar Email -->
            <div id="passo1Recuperacao">
                <h2>Recuperar Senha</h2>
                <p>Digite seu e-mail para enviarmos um código de verificação.</p>
                <input type="email" id="emailRecuperacao" placeholder="seu-email@exemplo.com">
                <p id="erroEmailRecuperacao" class="error-message" style="text-align: left;"></p>
                <button id="btnVerificarEmail">Verificar</button>
            </div>
            <!-- Passo 2: Nova Senha -->
            <div id="passo2Recuperacao" style="display: none;">
                <h2>Crie uma Nova Senha</h2>
                <p>Sua identidade foi verificada. Agora crie uma nova senha.</p>
                <input type="password" id="novaSenha" placeholder="Nova senha">
                <p id="erroNovaSenha" class="error-message"></p>
                <input type="password" id="confirmarNovaSenha" placeholder="Confirme a nova senha">
                <p id="erroConfirmarNovaSenha" class="error-message"></p>
                <button id="btnAtualizarSenha">Atualizar Senha</button>
            </div>
            <button class="fechar-modal secundario">Cancelar</button>
        </div>
    </div>

    <!-- Modal de Verificação de E-mail (Unificado) -->
    <div id="modalVerificacaoEmail" class="modal">
        <div class="conteudo-modal">
            <h2 id="tituloModalVerificacao">Verifique seu E-mail</h2>
            <p>Enviamos um código de 6 dígitos para <strong id="emailParaVerificar"></strong>. Por favor, insira-o abaixo.</p>
            <form id="formularioVerificacao" class="form-verificacao">
                <input type="text" id="codigoVerificacao" placeholder="_ _ _ _ _ _" maxlength="6" required />
                <div class="timer-container">
                    <span>O código expira em: </span>
                    <span id="timer" class="font-semibold">02:00</span>
                </div>
                <p id="mensagemVerificacao" class="mensagem"></p>
                <button type="submit" id="btnVerificarCodigo" class="principal">Verificar e Cadastrar</button>
                <button type="button" id="btnReenviarCodigo" class="secundario">Reenviar Código</button>
            </form>
             <button class="fechar-modal secundario" style="margin-top: 10px;">Cancelar</button>
        </div>
    </div>
    
    <!-- Modal de Confirmação de Senha Atualizada -->
    <div id="modalConfirmacaoSenha" class="modal">
        <div class="conteudo-modal">
            <h2>Sucesso!</h2>
            <p>Sua senha foi atualizada com sucesso! Você já pode fazer o login com a nova senha.</p>
            <button id="btnFecharConfirmacaoSenha">OK</button>
        </div>
    </div>

    <script src="../scripts/TelaLoginCadastro.js"></script>
</body>
</html>

